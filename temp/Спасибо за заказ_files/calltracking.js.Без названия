/*!
 * Данный код является интеллектуальной собственностью ООО "ПитнерзГарден".
 * Любое использование без письменного разрешения владельца запрещается, т.к. нарушает его авторские права.
 */
(function(){this.CT=function(){function e(){}return e.HOST="//app.call-tracking.by",e.VISIT_PATH="/visit.json",e.INIT_PATH="/init.json",e.REMOVE_IDENTIFIER="remove",e.COOKIE_NAME="ct",e.COOKIE_REF_NAME="ct_ref",e.COOKIE_ORIGIN_REF_NAME="ct_orig_ref",e.WITH_GA_TRACK=!1,e.WITH_PAGE_REGEXP=!1,e.GOOGLE_WAIT_MAX_RETRY_ITERATIONS=50,e.isDescendant=function(e,n){var t;for(t=n.parentNode;null!=t;){if(t===e)return!0;t=t.parentNode}return!1},e.isEmpty=function(e){var n;if(null===e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n))return!1;return!0},e.getContainers=function(n){var t,r,o,i,a,s,c,u,l,f,h,p,d,m,g,_,T,E,C,I,R,y,O,v,k,P,A,w;if(k=e.onBeforeGetContainers(n))return k;for(c=document.getElementsByTagName("DIV"),A=new RegExp(e.mainPart(n).split("").join("\\D*")),o=function(){var e,n,t;for(t=[],e=0,n=c.length;n>e;e++)s=c[e],A.test(s.innerHTML)&&t.push(s);return t}(),a=[],f=0,p=o.length;p>f;f++)u=o[f],a.push(0);for(u=h=0,d=o.length;d>h;u=++h)for(O=o[u],l=C=0,m=o.length;m>C;l=++C)i=o[l],e.isDescendant(O,i)&&a[u]++;for(v=function(){var e,n,t;for(t=[],u=n=0,e=o.length;e>n;u=++n)r=o[u],0===a[u]&&t.push(r);return t}(),t=v,I=0,g=v.length;g>I;I++)r=v[I],t=t.concat(jQuery(r).find("*").filter(function(){return A.test(this.innerHTML)}).get());for(a=[],R=0,_=t.length;_>R;R++)u=t[R],a.push(0);for(u=y=0,T=t.length;T>y;u=++y)for(O=t[u],l=P=0,E=t.length;E>P;l=++P)i=t[l],e.isDescendant(O,i)&&a[u]++;return w=function(){var e,n,o;for(o=[],u=n=0,e=t.length;e>n;u=++n)r=t[u],0===a[u]&&"SCRIPT"!==r.tagName&&o.push(r);return o}(),e.onAfterGetContainers(w,n)},e.setCookie=function(e,n,t){var r,o;if(null==t&&(t=""),r=new Date,t)switch(t){case"quoter_of_hour":r.setTime(r.getTime()+9e5);break;case"half_of_hour":r.setTime(r.getTime()+18e5);break;case"hour":r.setTime(r.getTime()+36e5);break;case"day":r.setDate(r.getDate()+1);break;case"week":r.setDate(r.getDate()+7);break;case"month":r.setMonth(r.getMonth()+1);break;case"year":r.setFullYear(r.getFullYear()+1);break;default:isNaN(t)?r.setDate(r.getDate()+1):r.setTime(r.getTime()+6e4*parseInt(t))}else r.setDate(r.getDate()+1);return o="expires="+r.toGMTString(),document.cookie=e+"="+n+";"+o+";path=/;domain=."+document.domain.split(".").slice(-2).join(".")+";"},e.getCookie=function(e){var n,t,r,o,i,a;for(a=e+"=",t=document.cookie.split(";"),r=0,o=0,i=t.length;i>o;o++)if(n=t[o],n=n.replace(/^\s+|\s+$/g,""),0===n.indexOf(a))return n.substring(a.length,n.length);return null},e.mainPart=function(e){return 13===e.length?e.slice(4):e.slice(2)},e.referrer=function(){var n;return(n=e.getCookie(e.COOKIE_REF_NAME))?n:(n="",n=location.href.match(/utm_|gclid|yclid|kwid|openstat|ymclid/)?location.pathname+location.search:document.referrer||location.href,n.match("yandex")&&n.match(document.domain)&&(n=n.replace(document.domain,"site_domain")),n=n.split("#")[0])},e.originReferrer=function(){return e.getCookie(e.COOKIE_ORIGIN_REF_NAME)},e.getReferrerHost=function(){var e;return""===document.referrer?"":(e=document.createElement("a"),e.href=document.referrer,e.hostname)},e.withjQueryCheck=function(e){var n,t;return null==window.jQuery?(t="undefined"!=typeof $&&null!==$?$:void 0,n=document.createElement("script"),n.src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js",n.onload=n.onreadystatechange=function(){var n;return e(),n=t},document.getElementsByTagName("head")[0].appendChild(n)):e()},e.empty=function(){return void 0},e.withGaTrack=function(){return e.WITH_GA_TRACK},e.track=function(){return e.WITH_PAGE_REGEXP?e.trackSiteWithPageRegexp():e.originTrack()},e.trackSiteWithPageRegexp=function(){return this.getCookie(e.COOKIE_REF_NAME)||this.setCookie(e.COOKIE_REF_NAME,e.referrer(),"quoter_of_hour"),e.withjQueryCheck(function(){return e.initCall()})},e.originTrack=function(){return e.withjQueryCheck(function(){var n;return n=e.getSession(),n?(e.process(n.phones,n.exp,!1),e.visitCall(n)):e.referrer().match(/utm_|gclid|yclid|kwid|openstat|ymclid/)||e.getReferrerHost()!==document.domain?e.initCall():e.originReferrer()?e.initCall():void 0})},e.initCall=function(){return e.withGaTrack()?e.callWithGA(e.INIT_PATH):e.call(e.INIT_PATH)},e.visitCall=function(n){return!e.referrer().match(/utm_|gclid|yclid|kwid|openstat|ymclid/)&&e.getReferrerHost()===location.host||e.withGaTrack()||e.WITH_PAGE_REGEXP?void 0:e.call(e.VISIT_PATH)},e.process=function(n,t,r,o){var i,a,s;if(null==r&&(r=!0),!e.isEmpty(n)){"string"==typeof n&&(n=JSON.parse(n)),e.onBeforeProcess();for(i in n)a=n[i],s=e.onBeforeProcessPhone(i,a),s!==!1&&(e.processPhone(i,a),e.onAfterProcessPhone(i,a));if(e.onAfterProcess(),r&&e.storeOriginReferrer(o),r&&!e.WITH_PAGE_REGEXP)return e.storeSession({phones:n,exp:t});if(e.WITH_PAGE_REGEXP)return e.setCookie(e.COOKIE_REF_NAME,e.referrer(),t)}},e.process_with_page_separation=function(n,t,r,o){return e.process(n,t,!1,o)},e.update=function(n,t,r){var o;return o=e.getSession(),t&&t!==o.exp&&e.storeSession(jQuery.extend(o,{exp:t})),e.isEmpty(n)||(n=JSON.parse(n),JSON.stringify(n)===JSON.stringify(o.phones))?void 0:(e.storeSession(jQuery.extend(o,{phones:n})),location.reload())},e.update_with_page_separation=function(n,t,r,o){return e.update(n,t,referrer_store_time_minutes)},e.storeOriginReferrer=function(n){var t;return null==e.originReferrer()?(t=null!=n&&n.length>0?n:"half_of_hour",e.setCookie(e.COOKIE_ORIGIN_REF_NAME,e.referrer(),t)):void 0},e.storeSession=function(n){return e.setCookie(e.COOKIE_NAME,btoa(JSON.stringify(n)),n.exp)},e.getSession=function(){var n;return n=e.getCookie(e.COOKIE_NAME),n?JSON.parse(atob(n)):null},e.processPhone=function(n,t){var r;return t?(r=e.getContainers(n),t===e.REMOVE_IDENTIFIER?e.doRemovePhone(n,r):e.doReplacePhone(n,t,r)):void 0},e.doReplacePhone=function(n,t,r){var o,i,a,s,c,u,l,f,h,p,d;for(p=[],i=0,a=r.length;a>i;i++)o=r[i],l=o.innerHTML.match(/\d/g).join(""),c=e.mainPart(n),h=e.mainPart(t),d=l.indexOf(c),-1!==d&&(u=f=-1,o.innerHTML=o.innerHTML.replace(/\d/g,function(e,n){return u++,u>=d&&u<=d+c.length-1?h[++f]:e})),null!=jQuery(o).closest?(s=jQuery(o).closest("a"),s.is("a")&&s.attr("href")&&s.attr("href").indexOf(c)?p.push(s.attr("href",s.attr("href").replace(c,h))):p.push(void 0)):p.push(void 0);return p},e.doRemovePhone=function(n,t){var r,o,i,a,s,c,u,l;for(c=e.mainPart(n).split(""),c.unshift("(\u0413\u041e\u0420\u041e\u0414:|\u0442\u0435\u043b\\.\\:|\u043c\u043e\u0431\\.\\:)?\\s*(\\+?\\s*375|8\\s*|0|8(\\s|\\(|\\-)*?0|\\+\\s*7)?"),u=new RegExp("(?:-|\\s*|(<[^>]+?>)|\\(|\\))*"+c.join("(?:-|\\s*|(?:<[^>]+?>)|\\(|\\))*")+"(?:-|\\s*|(?:</\\s+?>)|&nbsp;|/64|[^\\d<+]|)*"),l=[],o=0,i=t.length;i>o;o++)r=t[o],e.clearContainer(r),s=r.innerHTML.match(/\d/g).join(""),a=e.mainPart(n),-1!==s.indexOf(a)?l.push(r.innerHTML=r.innerHTML.replace(u,"")):l.push(void 0);return l},e.clearContainer=function(e){return jQuery(e).contents().each(function(){return this.nodeType===Node.COMMENT_NODE?jQuery(this).remove():void 0})},e.call=function(n){return e.makeRequestToCallTracking(n,e.commonTrackingParams())},e.callWithGA=function(n,t){var r;return null==t&&(t=1),null!=window.ga&&null!=window.ga.getAll?(r=e.commonTrackingParams(),r.push("cid="+window.ga.getAll()[0].get("clientId")),e.makeRequestToCallTracking(n,r)):t<e.GOOGLE_WAIT_MAX_RETRY_ITERATIONS?setTimeout(e.callWithGA,100,n,t+1):(r=e.commonTrackingParams(),r.push("cid=111"),e.makeRequestToCallTracking(n,r))},e.commonTrackingParams=function(){var n,t;return t=["ref="+encodeURIComponent(e.referrer()),"host="+encodeURIComponent(location.host),"page="+encodeURIComponent(location.pathname)],n=e.originReferrer(),null!=n&&t.push("origin_ref="+encodeURIComponent(n)),t},e.makeRequestToCallTracking=function(n,t){var r,o;return o=""+e.HOST+n,o+="?"+t.join("&"),r=document.createElement("SCRIPT"),r.src=o,document.getElementsByTagName("HEAD")[0].appendChild(r)},e.onBeforeProcess=function(){return window.jQuery("head").append("<style>.ct-top-phone-code { font-size: 16px; line-height: 16px; }</style>"),window.jQuery("head").append("<style>.ct-top-phone-main { line-height: 24px; }</style>"),window.jQuery("#u162-3").html("<span class='ct-top-phone-code'>+375 (29)</span><span class='ct-top-phone-main'> 821 27 49</span>"),window.jQuery("#u162-6").html("<span class='ct-top-phone-code'>+375 (29)</span><span class='ct-top-phone-main'> 302 81 83</span>"),window.jQuery("#u8487_img, #u10475_img").remove(),window.jQuery("p.icon-mts, p.icon-velcom").wrap('<div style="display:inline-block"></div>')},e.onAfterProcess=function(){return $(".map-info-wrapper").remove()},e.onBeforeGetContainers=function(e){},e.onAfterGetContainers=function(e,n){return e},e.onBeforeProcessPhone=function(e,n){return"+375298749211"===e&&"remove"===n||"+375295395452"===e&&"remove"===n?(window.jQuery("p.icon-mts").remove(),!1):void 0},e.onAfterProcessPhone=function(e,n){},e}(),CT.track()}).call(this);